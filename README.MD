## Punto 1
## Elevator pitch (3--5 lineas)

Una pequeÃ±a tienda necesita un sistema confiable para **gestionar su
inventario** sin errores de duplicados, precios mal ingresados ni
cantidades negativas. Nuestra app web permite **registrar, consultar,
editar y eliminar productos** con **validaciones claras** y alertas de
error (p.ej., producto duplicado). Esta pensada para el
**administrador** (gestiona el inventario) y el **empleado** (consulta
existencias) de forma **rapida y accesible** desde el navegador.

------------------------------------------------------------------------

## Usuarios/segmentos y principales casos de uso

-   **Administrador de la tienda**
    -   Registrar un producto con **nombre, categoria, precio,
        cantidad**.
    -   Editar **precio** o **cantidad** de productos existentes.
    -   Eliminar productos.
-   **Empleado**
    -   Buscar productos por **nombre** o **categoria** para verificar
        disponibilidad y stock.

**Reglas y criterios clave (resumen de historias de usuario):** -
**Duplicados**: si el nombre ya existe -> **HTTP 409**. - **Busqueda**:
siempre retorna **lista paginada** (puede ser vacia). - **Cantidad**:
nunca puede ser **negativa**.

------------------------------------------------------------------------

## Objetivos &  No-objetivos

**Objetivos** 1. CRUD de productos con validaciones de negocio
(duplicados, rangos validos, cantidades >= 0). 2. Busqueda/filtrado por
nombre y categoria con **paginacion**. 3. UI simple y responsiva,
enfocada en velocidad de captura y consulta. 4. API documentada
automaticamente (**Swagger UI** en FastAPI).

**No-objetivos (explicitamente fuera de alcance por ahora)** - Gestion
de usuarios/roles avanzada (mas alla de admin/empleado sin autenticacion
robusta). - Integracion con codigos de barras/lectores fisicos. -
Reportes avanzados (PDF/Excel), analitica o BI. - Integracion con
sistemas contables/ERP o facturacion. - Multi-sucursal o control de
movimientos/bitacora.

------------------------------------------------------------------------

## Metricas/KPIs de exito

-   **Exactitud de datos**: % de operaciones rechazadas por validacion
    (esperado: >= 95% de registros validos a la primera tras 1 semana de
    uso).
-   **Tiempo de operacion**: mediana de tiempo para **registrar** un
    producto (objetivo: \< 15 s) y para **buscar** uno (\< 3 s).
-   **Errores criticos**: 0 caidas en ambiente local durante sesiones de
    \> 1 hora.
-   **Cobertura funcional**: CRUD y busqueda con paginacion disponibles
    y probadas (checklist de QA >= 90% cumplida).
-   **Satisfaccion del usuario**: NPS interno de admin/empleado >= 8/10
    tras prueba piloto.

## Casos de uso (flujo minimo)

1.  **Registrar** -> Validar -> Crear -> Responder `201` con el producto.
2.  **Buscar** -> Filtros `name`, `category`, paginacion `page`, `size` ->
    Lista (puede ser vacia) y `total`.
3.  **Editar** -> Validar no negativo en cantidad -> Actualizar `price` o
    `quantity`.
4.  **Eliminar** -> Borrado por id/nombre.

## Convenciones de validacion (implementacion esperada)

-   **Nombre**: requerido, string no vacio, unico (case_insensitive
    sugerido).
-   **Categoria**: requerida, string no vacia.
-   **Precio**: numero \> 0 con hasta 2 decimales (rechazar valores no
    numericos).
-   **Cantidad**: entero >= 0 (rechazar negativos o no enteros).
-   **Codigos HTTP**:
    -   `201` creacion exitosa, `200` lectura/edicion/eliminacion
        exitosa.
    -   `400/422` validacion de esquema/valores.
    -   `409` conflicto por **nombre duplicado**.


## Must have (MVP inicial)

Registrar producto
Como administrador, quiero registrar un producto con nombre, precio y cantidad, para llevar control del inventario.

## Criterios de aceptaciÃ³n:

Si el nombre ya existe, el sistema devuelve error 409.

No se permite precio < 1 ni cantidad < 1.

El sistema responde con 201 y los datos del producto registrado.

Listar todos los productos
Como empleado, quiero listar todos los productos, para ver el inventario actual de la tienda.

Criterios de aceptaciÃ³n:

Devuelve lista completa de productos registrados.

Si no hay productos, retorna lista vacÃ­a.

El sistema responde con 200.

## Should have (valores aÃ±adidos al MVP)

Validaciones de precio y cantidad
Como administrador, quiero que el sistema valide el precio (mayor o igual a 1) y cantidad (entero â‰¥ 1), para evitar errores en el inventario.

Criterios de aceptaciÃ³n:

Valores invÃ¡lidos â†’ 422 Unprocessable Entity.

Precio y cantidad se guardan con formato correcto.

UI con alertas de error
Como usuario (admin/empleado), quiero recibir mensajes claros de error en la interfaz, para entender quÃ© corregir.

Criterios de aceptaciÃ³n:

Mensajes visibles cuando el producto ya existe (409) o cuando hay valores invÃ¡lidos (422).

Alertas visibles en pantalla sin romper el flujo de uso.

## Could have (no implementado todavÃ­a)

Editar producto (precio o cantidad).

BÃºsqueda por nombre o categorÃ­a.

Filtros avanzados de bÃºsqueda (rango de precios, stock).

Exportar inventario a CSV.

## Wonâ€™t have (fuera de alcance en esta fase)

GestiÃ³n de usuarios y roles avanzados.
Se pospone para fases futuras.

## Mapa de versiones

MVP (Semana 11)

Historias 1 y 2 (Registrar y listar productos).

Historia 3 (Validaciones crÃ­ticas).

Historia 4 (UI con alertas de error).

VersiÃ³n final (Semana 16)

CRUD completo (editar, eliminar).

BÃºsqueda y filtros avanzados.

Exportar inventario a CSV.

Mejoras de UI/UX y pruebas extendidas.

## 5) Arquitectura y decisiones tÃ©cnicas

### 5.1 Diagrama general
El sistema se compone de dos capas principales:


- **Frontend (React + Vite):**
  - SPA que consume la API mediante `fetch` o `axios`.
  - Manejo de estado con hooks (`useState`, `useEffect`).
  - Componente principal: listado y creaciÃ³n de productos.
  - ConfiguraciÃ³n de CORS mediante variable `VITE_API_URL`.

- **Backend (FastAPI):**
  - ExposiciÃ³n de endpoints REST para **Productos** y **CategorÃ­as**.
  - Validaciones con **Pydantic** (unicidad, precios y cantidades > 0).
  - Manejo de errores con respuestas controladas (422, 404, 409).
  - Persistencia en base de datos relacional (SQLite para desarrollo, PostgreSQL para producciÃ³n).

- **CORS:**
  - Habilitado en FastAPI para aceptar solicitudes desde `http://localhost:5173` (Vite).

---

### 5.2 LibrerÃ­as clave

#### Backend
- **FastAPI** â†’ framework para definir endpoints REST.
- **Pydantic** â†’ validaciÃ³n de datos (reglas de negocio).
- **SQLAlchemy** â†’ ORM para mapear entidades (Producto, CategorÃ­a).
- **Uvicorn** â†’ servidor ASGI para correr la API.
- **pytest + httpx** â†’ pruebas automÃ¡ticas de endpoints.

#### Frontend
- **React + Vite** â†’ desarrollo rÃ¡pido de SPA.
- **axios** â†’ consumo de la API (mÃ¡s cÃ³modo que `fetch`).
- **React Router (opcional)** â†’ navegaciÃ³n entre vistas.
- **TailwindCSS (opcional)** â†’ estilos rÃ¡pidos y consistentes.

---

### 5.3 Estrategia de estado en frontend
- **Estado local con hooks** (`useState`, `useEffect`).
- No se requiere Redux ni librerÃ­as externas dado el alcance del MVP.
- Ejemplo:
  - `productos` â†’ lista obtenida desde el backend.
  - `loading` y `error` â†’ control de estados al hacer fetch.

---

### 5.4 Manejo de errores
- **422 Unprocessable Entity** â†’ datos invÃ¡lidos (precio < 1, cantidad < 1).
- **404 Not Found** â†’ recurso inexistente (producto o categorÃ­a no encontrada).
- **409 Conflict** â†’ duplicados (nombre de producto o categorÃ­a ya existente).
- **200/201/204** â†’ operaciones exitosas (lectura, creaciÃ³n, eliminaciÃ³n).

Frontend:
- Mostrar mensajes claros al usuario (ej. â€œEl producto ya existeâ€ o â€œCantidad invÃ¡lidaâ€).
- Estados de **loading/error** visibles en pantalla.

---

### 5.5 Decisiones tÃ©cnicas
- **Base de datos**: se usarÃ¡ SQLite en desarrollo por simplicidad, pero se puede migrar a PostgreSQL sin cambios mayores gracias a SQLAlchemy.
- **Estructura modular**: separar backend en carpetas (`models/`, `routes/`, `core/`) para mantener orden.
- **Validaciones en backend**: se prioriza la lÃ³gica de validaciÃ³n en Pydantic para evitar datos inconsistentes en la BD.
- **UI simple pero robusta**: empezar con listado + creaciÃ³n (vertical slice) y luego expandir a ediciÃ³n/eliminaciÃ³n.
- **Pruebas mÃ­nimas**: se incluirÃ¡ al menos 1 prueba automatizada para verificar el CRUD.

---

### DIAGRAMA SPA SUBIDO AL REPOSITORIO

## SECUENCIA TIPICA
Usuario
  |
  | (1) Completa formulario "Nuevo producto"
  v
React SPA
  |
  | (2) POST /productos
  |     Body:
  |     { id_categoria, nombre_producto, precio, cantidad, fecha_creacion }
  v
FastAPI
  |
  | (3) Valida Pydantic:
  |     - nombre_producto Ãºnico (409 si existe)
  |     - precio >= 1, cantidad >= 1 (422 si falla)
  | (4) INSERT via SQLAlchemy
  v
Base de datos
  |
  | (5) OK (id generado)
  v
FastAPI
  |
  | (6) 201 Created
  |     Location: /productos/{id}
  v
React SPA
  |
  | (7) GET /productos?offset=0&limit=10
  v
FastAPI -> DB -> FastAPI
  |
  | (8) 200 OK
  |     Header: X-Total-Count
  |     Body: [ ... productos ... ]
  v
React SPA (actualiza lista y muestra Ã©xito)

## PUERTOS Y FLUJO DE RED
[ Navegador ]
     |
     |  Origin: http://localhost:5173
     v
[ React (Vite dev server) ]  --CORS-->  [ FastAPI (uvicorn) ]  -->  [ DB ]
                5173                         8000

## Mini-ERD
+-------------+        1        n +-------------+
|  Categoria  |------------------>|  Producto   |
| id (PK)     |                   | id (PK)     |
| nombre (*)  |                   | id_categoria|
| descripcion |                   | nombre (*)  |
+-------------+                   | precio      |
                                  | cantidad    |
                                  | fecha_crea  |
                                  +-------------+
(*) Ãºnicos

## 6) Plan del proyecto

### 6.1 Roadmap

**Semana 6 (Entregable 1 â€” MVP Alpha)**
- âœ… DefiniciÃ³n del caso (inventario de productos).  
- âœ… Modelo de datos inicial (categorÃ­as y productos).  
- âœ… API diseÃ±ada (endpoints CRUD, validaciones).  
- âœ… Arquitectura y decisiones tÃ©cnicas documentadas.  
- ðŸš§ Vertical slice en progreso (CRUD bÃ¡sico).  

**Semana 7â€“10**
- Implementar CRUD completo en backend con FastAPI + SQLAlchemy.  
- AÃ±adir validaciones de negocio (unicidad, rangos, fechas).  
- Configurar CORS y variables de entorno (`VITE_API_URL`).  
- Frontend: listar y crear productos, mostrar loading/error.  
- Prueba automatizada bÃ¡sica con `pytest` + `httpx`.  

**Semana 11 (Entregable 2 â€” MVP completo)**  
- Backend y frontend listos para CRUD bÃ¡sico.  
- PaginaciÃ³n (`offset/limit`) en el GET de productos.  
- UI con bÃºsqueda por nombre (debounce 300ms) y/o orden asc/desc.  
- Capturas de funcionamiento (UI + API).  

**Semana 12â€“15**
- Mejorar estilos de UI (TailwindCSS).  
- Manejo de mÃ¡s validaciones y reglas (ej. no borrar categorÃ­as con productos).  
- Tests adicionales (errores 404, 409, 422).  
- DocumentaciÃ³n ampliada (ejemplos JSON de request/response).  
- IntegraciÃ³n opcional con PostgreSQL.  

**Semana 16 (Entrega final)**  
- Demo funcional completa: CRUD productos + categorÃ­as.  
- Evidencia (capturas + video corto â‰¤3 min).  
- Repositorio final con estructura limpia y documentaciÃ³n clara.  
- Checklist final de entregable cumplido.  

---

## 6.2 Kanban En Imagen Subida al repositorio

## 7 Estructura del proyecto
project/
â”œâ”€ backend/
â”‚  â”œâ”€ app/
â”‚  â”‚  â”œâ”€ api/routes/products.py
â”‚  â”‚  â”œâ”€ models/product.py
â”‚  â”‚  â”œâ”€ core/config.py
â”‚  â”‚  â””â”€ main.py
â”‚  â”œâ”€ requirements.txt
â”‚  â””â”€ tests/test_products.py
â””â”€ frontend/
   â”œâ”€ src/
   â”‚  â”œâ”€ api.js
   â”‚  â”œâ”€ App.jsx
   â”‚  â””â”€ main.jsx
   â”œâ”€ .env.development
   â”œâ”€ package.json
   â””â”€ vite.config.js

## requirements.txt
fastapi
uvicorn
sqlalchemy
pydantic
pytest
httpx






